<h2 mat-dialog-title class="text-center" xmlns="http://www.w3.org/1999/html">Detalles del Plan</h2>

<mat-dialog-content>
  <p>
    Estás adquiriendo: <strong>{{ data.data.name }}</strong>
    por el valor de <strong>{{ data.data.price | currency }}</strong>
  </p>

  <div class="account-info mt-4">
    <p><strong>Consigna el dinero en la siguiente cuenta:</strong></p>
    <div class="bank-card-container flex justify-center mt-2 mb-4">
      <emr-bank-account-card/>
    </div>
  </div>

  <div class="upload-proof mt-6 flex flex-col gap-4">
    <form [formGroup]="uploadForm" (ngSubmit)="onSubmit()" class="upload-proof mt-6 flex flex-col gap-4">
      <p><strong>Si ya realizaste la transacción, envía el comprobante de pago para su validación.</strong></p>

      <!-- Contenedor flexible -->
      <div class="flex items-start justify-between gap-4">

        <!-- Área de carga -->
        <emr-upload-area #uploadArea="emrUploadArea"
                         (fileSelected)="onFileSelected($event)"
                         class="flex-1 flex flex-col items-center gap-4">

          @if (!uploadArea.api.isDropActive) {
            <div class="text-center">Arrastre y suelte archivos aquí</div>
          } @else {
            <div class="font-medium">Suelta archivos aquí</div>
          }

          <button mat-stroked-button emrUploadTrigger
                  (fileSelected)="onFileSelected($event)">
            Select a local file
          </button>
        </emr-upload-area>

        <!-- Vista previa de la imagen -->
        <div *ngIf="isImage" emrImageViewer class="w-40 flex items-center justify-center border border-default p-2 rounded">
          <img [src]="fileUrl" alt="Vista previa" class="rounded max-h-40 cursor-pointer">
        </div>

      </div>

      <button mat-flat-button color="primary" type="submit" [disabled]="uploadForm.invalid">
        Enviar comprobante
      </button>
    </form>
  </div>





</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="close()">Cerrar</button>
</mat-dialog-actions>
